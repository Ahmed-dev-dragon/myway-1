<div class="mt-3">
  <form [formGroup]="groupForm" class="d-flex align-content-center justify-content-space-around">
    <div class="field col-12 md:col-4" formGroupName="translations">
      <span class="p-float-label">
        <input formControlName="nom" [readonly]="true" pInputText id="title" type="text" />
        <label for="title">{{ "title" | translate | titlecase }}</label></span>
    </div>
    <div class="field col-12 md:col-6 d-flex">
      <div class="d-flex align-items-center me-3">
        {{ "status" | translate | titlecase }}
      </div>

      <span class="p-float-label">
        <p-selectButton [options]="statusOptions" formControlName="status" [disabled]="true">
          <ng-template let-item>
            {{ item | translate | titlecase }}
          </ng-template>
        </p-selectButton>
      </span>
    </div>
    <div class="col-12 md:col-2 d-flex">
      <button pButton pRipple icon="pi pi-save" class="p-button-rounded p-button-success"></button>
    </div>
  </form>
  <p-treeTable [value]="espaces">
    <ng-template pTemplate="caption">
      <div class="flexCaption">
        <div>{{ "configuration.espace" | translate | titlecase }}</div>
        <p-inputSwitch [(ngModel)]="canAccess" [readonly]="true"></p-inputSwitch>
      </div>
    </ng-template>

    <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
      <tr [ngClass]="{ archive: rowData.etatObjet?.includes('archive') }">
        <td>
          <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>

          {{ rowData.espace | translate | titlecase }}
        </td>

        <td class="d-flex justify-content-end">
          <p-inputSwitch [(ngModel)]="rowData.canAccess" [readonly]="true"></p-inputSwitch>
        </td>
      </tr>
    </ng-template>
  </p-treeTable>
</div>